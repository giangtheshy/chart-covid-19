(this["webpackJsonpcovid-19-app"]=this["webpackJsonpcovid-19-app"]||[]).push([[0],{173:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(0),c=a.n(n),s=a(57),o=a.n(s),d=a(194),i=a(192),u=a(196),l=a(193),j=a(58),b=a.n(j),f=a(59),v=a.n(f),h=function(e){var t=e.className,a=e.cardTitle,n=e.value,c=e.lastUpdate,s=e.cardSubtitle;return Object(r.jsx)(i.a,{item:!0,xs:12,md:3,components:u.a,className:v()(t),children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(d.a,{color:"textSecondary",gutterBottom:!0,children:a}),Object(r.jsx)(d.a,{variant:"h5",component:"h2",children:Object(r.jsx)(b.a,{start:0,end:n,duration:2.75,separator:","})}),Object(r.jsx)(d.a,{color:"textSecondary",children:new Date(c).toDateString()}),Object(r.jsx)(d.a,{variant:"body2",component:"p",children:s})]})})},p=a(13),O=a.n(p),m=a(28),x=a(19),g="https://covid19.mathdro.id/api",C=c.a.createContext(),y=function(e){var t=e.children,a=Object(n.useState)({}),c=Object(x.a)(a,2),s=c[0],o=c[1],d=Object(n.useState)(""),i=Object(x.a)(d,2),u=i[0],l=i[1],j=Object(n.useState)([]),b=Object(x.a)(j,2),f=b[0],v=b[1],h=Object(n.useState)([]),p=Object(x.a)(h,2),y=p[0],N=p[1],S=Object(n.useCallback)(Object(m.a)(O.a.mark((function e(){var t,a,r,n,c,s,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g,u&&(t="".concat(g,"/countries/").concat(u)),e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,n=r.confirmed,c=r.recovered,s=r.deaths,d=r.lastUpdate,o({confirmed:n,recovered:c,deaths:s,lastUpdate:d});case 13:case"end":return e.stop()}}),e)}))),[u]),D=function(){var e=Object(m.a)(O.a.mark((function e(){var t,a,r,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/countries"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.countries,n=r.map((function(e){return e.name})),v(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.covidtracking.com/v1/us/daily.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.map((function(e){return{confirmed:e.positive,recovered:e.recovered,deaths:e.death,date:e.dateChecked}})),N(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){D(),k()}),[]),Object(n.useEffect)((function(){S()}),[S]);return Object(r.jsx)(C.Provider,{value:{data:s,listCountries:f,handleCountry:function(e){l(e)},country:u,dailyData:y},children:t})},N=function(){return Object(n.useContext)(C)},S=function(){var e=N().data,t=e.confirmed,a=e.recovered,n=e.deaths,c=e.lastUpdate;return t?Object(r.jsxs)("div",{className:"cards-container",children:[Object(r.jsx)(d.a,{gutterBottom:!0,variant:"h4",component:"h2",className:"cards-title",children:"Global"}),Object(r.jsxs)(i.a,{container:!0,spacing:3,justify:"center",children:[Object(r.jsx)(h,{cardTitle:"Infected",value:t.value,lastUpdate:c,cardSubtitle:"Number of active cases from COVID-19.",className:"card-infected"}),Object(r.jsx)(h,{cardTitle:"Recovered",value:a.value,lastUpdate:c,cardSubtitle:"Number of recoveries from COVID-19.",className:"card-recovered"}),Object(r.jsx)(h,{cardTitle:"Deaths",value:n.value,lastUpdate:c,cardSubtitle:"Number of deaths caused by COVID-19.",className:"card-deaths"})]})]}):Object(r.jsx)("div",{children:"Loading..."})},D=a(40),k=function(){var e=N(),t=e.data,a=e.dailyData,n=e.country,c=t.confirmed,s=t.recovered,o=t.deaths,d=c?Object(r.jsx)(D.Bar,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[c.value,s.value,o.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(n)}}}):null,i=a[0]?Object(r.jsx)(D.Line,{data:{labels:a.map((function(e){var t=e.date;return new Date(t).toLocaleDateString()})).reverse(),datasets:[{data:a.map((function(e){return e.confirmed})).reverse(),label:"Infected",borderColor:"#3333ff",fill:!0},{data:a.map((function(e){return e.deaths})).reverse(),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.5)",fill:!0},{data:a.map((function(e){return e.recovered})).reverse(),label:"Recovered",borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.5)",fill:!0}]}}):null;return Object(r.jsx)("div",{className:"chart-container",children:n?d:i})},w=a(197),U=a(195),I=function(){var e=N(),t=e.listCountries,a=e.handleCountry;if(0===t.length)return Object(r.jsx)("div",{children:"Loading..."});return Object(r.jsx)(w.a,{className:"form-control",children:Object(r.jsxs)(U.a,{defaultValue:"",onChange:function(e){return t=e.target.value,void a(t);var t},className:"select-country",children:[Object(r.jsx)("option",{value:"",children:"United States"}),t.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]})})},B=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(S,{}),Object(r.jsx)(I,{}),Object(r.jsx)(k,{})]})};a(173);o.a.render(Object(r.jsx)(y,{children:Object(r.jsx)(B,{})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.2553408c.chunk.js.map